$.accordionTabs=function(config){this.setting={root:null,tabs:null,contents:null,defaultPos:[],lastIndex:0,evtType:'click',direction:'H',infoSize:0};$.extend(this.setting,config);this.init().bind();return this;};$.accordionTabs.prototype={init:function(){var setting=this.setting,root=$(setting.root),tabs=null,contents=null,direction=setting.direction.toUpperCase();if(root){tabs=setting.tabs=root.find(setting.tabs);contents=setting.contents=root.find(setting.contents);}if(!setting.tabs||!setting.contents){return false;}if(direction==='H'){setting.infoSize=$(contents[0]).width()-$(tabs[0]).width();}else{if(direction==='V'){setting.infoSize=$(contents[0]).height()-$(tabs[0]).height();}}return this;},bind:function(){var setting=this.setting,tabs=setting.tabs,contents=setting.contents,infoSize=setting.infoSize,direction=setting.direction.toUpperCase(),evtType=setting.evtType;tabs.each(function(i,tab){var curTab=$(tab),curCnt=$(contents[i]);if(direction==='H'){setting.defaultPos.push(curCnt.css('left'));}else{if(direction==='V'){setting.defaultPos.push(curCnt.css('top'));}}curTab[evtType](function(evt){if(setting.lastIndex!==i){$(tabs[setting.lastIndex]).removeClass('current');$(this).addClass('current');contents.each(function(j,content){if(j<i){if(direction==='H'){$(contents[j]).animate({'left':(parseInt(setting.defaultPos[j],10)-infoSize)+'px'});}else{if(direction==='V'){$(contents[j]).animate({'top':(parseInt(setting.defaultPos[j],10)-infoSize)+'px'});}}}else{if(j>=i){if(direction==='H'){$(contents[j]).animate({'left':setting.defaultPos[j]});}else{if(direction==='V'){$(contents[j]).animate({'top':setting.defaultPos[j]});}}}}});setting.lastIndex=i;}});});return this;}};